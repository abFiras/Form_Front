<div class="form-list-container">
  <!-- En-tête -->
  <div class="header">
    <h1><i class="fas fa-file-alt"></i> Mes formulaires</h1>
    <div class="header-controls">
      <button class="btn btn-primary" (click)="createNewForm()">
        <i class="fas fa-plus"></i> Créer un formulaire
      </button>
      <button class="btn btn-secondary">
        <i class="fas fa-exchange-alt"></i> Changement de propriétaire
      </button>
      <div class="search-container">
        <i class="fas fa-search search-icon"></i>
        <input type="text" class="search-input" placeholder="Rechercher...">
      </div>
    </div>
  </div>

  <!-- Filtres -->
  <div class="filters">
    <label class="filter-label">
      <input type="checkbox" checked> Afficher le groupe principal en premier
    </label>
    <span class="display-count">Afficher {{forms.length}} éléments</span>
    <span style="margin-left: auto;">Rechercher :</span>
  </div>

  <!-- Loading state -->
  <div class="loading" *ngIf="loading">
    <i class="fas fa-spinner fa-spin"></i>
    <p>Chargement des formulaires...</p>
  </div>

  <!-- Liste des formulaires -->
  <div class="forms-table-container" *ngIf="!loading && forms.length > 0">

    <!-- Section Brouillons -->
    <div class="table-header">
      <div class="section-title">
        <button class="collapse-btn"><i class="fas fa-minus"></i></button>
        Formulaires
      </div>
      <span>Enregistrements</span>
    </div>

    <ul class="forms-list">
  <li class="form-item" *ngFor="let form of draftForms">
        <div class="form-info">
          <span class="form-name">{{form.name}}</span>
          <span class="form-count status-draft">{{form.fields.length || 0}}</span>
        </div>
        <div class="form-actions">
          <button class="action-btn btn-edit" (click)="editForm(form.id!)">
            <i class="fas fa-edit"></i> Modifier
          </button>
          <button class="action-btn btn-rights" (click)="previewForm(form.id!)">
            <i class="fas fa-users"></i> Droits
          </button>
          <button class="action-btn btn-copy">
            <i class="fas fa-copy"></i> Copier
          </button>
        </div>
      </li>
    </ul>

    <!-- Section Publiés -->
<div class="table-header" *ngIf="publishedForms.length > 0">
      <div class="section-title">
        <button class="collapse-btn"><i class="fas fa-minus"></i></button>
        Publiés
      </div>
      <span>Enregistrements</span>
    </div>

<ul class="forms-list" *ngIf="publishedForms.length > 0">
  <li class="form-item" *ngFor="let form of publishedForms">
        <div class="form-info">
          <span class="form-name">{{form.name}}</span>
<span class="form-count status-published">{{form.fields.length || 0}}</span>
        </div>
        <div class="form-actions">
          <button class="action-btn btn-edit" (click)="editForm(form.id!)">
            <i class="fas fa-edit"></i> Modifier
          </button>
          <button class="action-btn btn-rights" (click)="previewForm(form.id!)">
            <i class="fas fa-users"></i> Droits
          </button>
          <button class="action-btn btn-copy">
            <i class="fas fa-copy"></i> Copier
          </button>
        </div>
      </li>
    </ul>
  </div>

  <!-- Empty state -->
  <div class="empty-state" *ngIf="!loading && forms.length === 0">
    <i class="fas fa-file-alt"></i>
    <h2>Aucun formulaire</h2>
    <p>Créez votre premier formulaire pour commencer</p>
    <button class="btn btn-primary" (click)="createNewForm()">
       Créer un formulaire
    </button>
  </div>
</div>
